{% load static %}
{% load django_browser_reload %}
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="shortcut icon" href="{% static '/assets/media/logo.jpeg' %}">
    <link rel="icon" type="image/png" sizes="192x192" href="{% static '/assets/media/logo.jpeg' %}">
    <link rel="apple-touch-icon" sizes="180x180" href="{% static '/assets/media/logo.jpeg' %}">
    <!-- END Icons -->

    <!-- Stylesheets -->
    <!-- Page JS Plugins CSS -->
    <link rel="stylesheet" href="{% static 'assets/js/plugins/datatables/dataTables.bootstrap4.css' %}">
    <link rel="stylesheet" href="{% static 'assets/js/plugins/datatables/buttons-bs4/buttons.bootstrap4.min.css' %}">

    <!-- Fonts and OneUI framework -->
    
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap">
    <link rel="stylesheet" id="css-main" href="{% static 'assets/css/oneui.css' %}">
    <link rel="stylesheet" href="{% static 'assets/js/plugins/bootstrap-datepicker/css/bootstrap-datepicker3.min.css' %}">
    <link rel="stylesheet" href="{% static 'assets/js/plugins/bootstrap-colorpicker/css/bootstrap-colorpicker.min.css' %}">
    <link rel="stylesheet" href="{% static 'assets/css/select2.css' %}">
    <link rel="stylesheet" href="{% static 'assets/js/plugins/ion-rangeslider/css/ion.rangeSlider.css' %}">
    <link rel="stylesheet" href="{% static 'assets/js/plugins/dropzone/dist/min/dropzone.min.css' %}">
    <link rel="stylesheet" href="{% static 'assets/js/plugins/flatpickr/flatpickr.min.css' %}">
   
    <title>GESTION IFNTI</title>
    <link rel="stylesheet" href="{% static 'assets/css/ifnti.css' %}">
</head>
<body onload="pageLoaded()" class="loading-overlay">
    <div id="preloader">
        <div id="loader"></div>
    </div>  
    <div id="page-container" class="d-none sidebar-o bg-sidebar-light enable-page-overlay side-scroll page-header-fixed main-content-narrow">
        {% include 'components/sidebar.html' %}

        {% include 'components/header.html' %}

        <main id="main-container">
             <!-- Bannier -->
            {% if page_is_not_profil %}
                <div class="bg-body-light">
                    <div class="content content-full">
                        <div class="d-flex flex-column flex-sm-row justify-content-between align-items-sm-center">
                            <h1 class="flex-sm-fill h3 my-2">
                                {% block content_title %} {% endblock content_title %}<small class="d-block d-sm-inline-block mt-2 mt-sm-0 font-size-base font-w400 text-muted">{% block content_title_description %} {% endblock content_title_description %}</small>
                            </h1>
                            <div>  
                                {% block backURl %} {% endblock backURl %}  
                            </div>
                        </div>
                    </div>
                </div>
            {% endif %}
                

            {% if notification %}
                {% if notification.type == "erreur" %}
                    <div class="alert alert-danger alert-dismissable" role="alert">
                {% elif notification.type == "succes" %}
                    <div class="alert alert-success alert-dismissable" role="alert">
                {% else %}
                    <div class="alert alert-primary alert-dismissable" role="alert">
                {% endif %}
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    <p class="mb-0">{{notification.message}}</p>
                </div>
            {% endif %}
                        
            <!-- FIN Bannier -->
            {% block content %} {% endblock content %}
        </main>


        {% include 'components/footer.html'  %}
    </div>
</body>


{% django_browser_reload_script %}

<script src="{% static 'assets/js/jquery-3.7.1.min.js'%}"></script>

<script src="{% static 'assets/js/oneui.core.min.js' %}"></script>
<script src="{% static 'assets/js/oneui.app.min.js' %}"></script>
<script src="{% static 'assets/js/plugins/datatables/jquery.dataTables.min.js' %}"></script>
<script src="{% static 'assets/js/plugins/datatables/dataTables.bootstrap4.min.js' %}"></script>
<script src="{% static 'assets/js/plugins/datatables/buttons/dataTables.buttons.min.js' %}"></script>
<script src="{% static 'assets/js/plugins/datatables/buttons/buttons.print.min.js' %}"></script>
<script src="{% static 'assets/js/plugins/datatables/buttons/buttons.html5.min.js' %}"></script>
<script src="{% static 'assets/js/plugins/datatables/buttons/buttons.flash.min.js' %}"></script>
<script src="{% static 'assets/js/plugins/datatables/buttons/buttons.colVis.min.js' %}"></script>
<script src="{% static 'assets/js/pages/be_tables_datatables.min.js' %}"></script>

<script src="{% static 'assets/js/plugins/bootstrap-datepicker/js/bootstrap-datepicker.min.js' %}"></script>
<script src="{% static 'assets/js/plugins/bootstrap-colorpicker/js/bootstrap-colorpicker.min.js' %}"></script>
<script src="{% static 'assets/js/plugins/bootstrap-maxlength/bootstrap-maxlength.min.js' %}"></script>
<script src="{% static 'assets/js/plugins/select2/js/select2.full.min.js' %}"></script>
<script src="{% static 'assets/js/plugins/jquery.maskedinput/jquery.maskedinput.min.js' %}"></script>
<script src="{% static 'assets/js/plugins/ion-rangeslider/js/ion.rangeSlider.min.js' %}"></script>
<script src="{% static 'assets/js/plugins/dropzone/dropzone.min.js' %}"></script>
<script src="{% static 'assets/js/plugins/flatpickr/flatpickr.min.js' %}"></script>

<script src="{% static 'assets/js/plugins/bootstrap-notify/bootstrap-notify.min.js' %}"></script>

<script>jQuery(function () { One.helpers('notify'); });</script>
<!-- Page JS Helpers (Flatpickr + BS Datepicker + BS Colorpicker + BS Maxlength + Select2 + Masked Inputs + Ion Range Slider plugins) -->
<script>jQuery(function () { One.helpers(['flatpickr', 'datepicker', 'colorpicker', 'maxlength', 'select2', 'masked-inputs', 'rangeslider']);  });</script>
<script type="text/javascript">
    form_tag_annee = $('#form-annee-universitaire');
    $('#annee-universitaire').on('change', function() {
        console.log(form_tag_annee);
        form_tag_annee.submit();
    });

    function showLoadingOverlay() {
        console.log('La page en cours de chargement.');
        document.getElementById('preloader').style.display = 'block';
        $('#page-container').addClass('d-none');
    }
    
    function hideLoadingOverlay() {
        document.getElementById('preloader').style.display = 'none';
        $('#page-container').removeClass('d-none');
    }
    
    function pageLoaded() {
        console.log('La page est entièrement chargée.');
        hideLoadingOverlay(); // Masquer l'élément de chargement une fois que la page est chargée
    }
    // Afficher l'élément de chargement au chargement initial de la page
    showLoadingOverlay();
</script>
{% block scripts %}{% endblock scripts %}
</html>
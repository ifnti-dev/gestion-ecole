\documentclass[12pt,a4paper,landscape]{article}
\usepackage[utf8]{inputenc}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{graphicx}
\usepackage{multirow}
\usepackage{longtable}
\usepackage[left=0.3cm,right=0.3cm,top=2cm,bottom=2cm]{geometry}
\begin{document}
\begin{center}
% Définition du titre
\begin{LARGE}
IFNTI : Maquette semestre S3 2022-2023
\end{LARGE}
\end{center}
\begin{center}

\setlength{\tabcolsep}{0pt}
\renewcommand{\arraystretch}{1}

\begin{longtable}{|c|c|c|c|c|c|c|c|}
\hline
Semestre & Intitulé UE & Type UE & Matières & Crédit UE & Volume Horaire (H) & Enseignant principal & Enseignant secondaire  \\ 
\hline

\BLOCK{ for semestre_data in semestres_data }

\multicolumn{1}{|c|}{\multirow{\VAR{semestre_data.ues|length}}{*}{\VAR{semestre_data.semsetre.libelle}}}
	\BLOCK{ for ue in semestre_data.ues}
     & \multicolumn{1}{c|}{\multirow{\VAR{ue.matiere_set.all().count()}}{*}{\VAR{ue.libelle}}} 
     & \multicolumn{1}{c|}{\multirow{\VAR{ue.matiere_set.all().count()}}{*}{\VAR{ue.type}}} 
     & Python & \multicolumn{1}{c|}{\VAR{ue.matiere_set.all().count()}}{*}{\VAR{ue.nbreCredit}}} 
     & 16.1 & sgallagher & sgallagher \\

     \cline{4-3} \cline{6-3} \cline{7-3} \cline{8-3}

	 \BLOCK{ for matiere in ue.matiere_set.all() }     
     
	 \multicolumn{1}{|c|}{}
	 & & & \VAR{ue.type} & & 49.0 & sgallagher & sgallagher\\ 
	 
	 \cline{4-3} \cline{6-3} \cline{7-3} \cline{8-3}
	 
	 \BLOCK{ endfor }
	 
	 \cline{2-8}
	 \BLOCK{ endfor }
	 
\hline
\BLOCK{ endfor }

Total &  &  &  & 8 & 422.6 &  &  \\ 
\hline 
\end{longtable}

\end{center}


\end{document}
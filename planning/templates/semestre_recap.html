{% extends './index.html' %}
{% block content_title %} INFOS SUR LE SEMESTRE {% endblock content_title %}
{% load static %}
{% block content %}
<main id="main-container">
    <div class="content">
        <div class="block block-rounded">
            <div class="block-content text-center">
                <div class="py-4">
                    <h1 class="font-size-lg mb-0">
                         {{semestre.libelle}}
                    </h1>
                    <p class="font-size-sm text-muted">{{semestre.annee_universitaire}}</p>
                </div>
            </div>
            <div class="block-content bg-body-light text-center">
                <div class="row items-push text-uppercase">
                    <div class="col-6 col-md-3">
                        <div class="font-w600 text-dark mb-1">Orders</div>
                        <a class="link-fx font-size-h3 text-primary" href="javascript:void(0)">5</a>
                    </div>
                    <div class="col-6 col-md-3">
                        <div class="font-w600 text-dark mb-1">Orders Value</div>
                        <a class="link-fx font-size-h3 text-primary" href="javascript:void(0)">$3.580,00</a>
                    </div>
                    <div class="col-6 col-md-3">
                        <div class="font-w600 text-dark mb-1">Cart</div>
                        <a class="link-fx font-size-h3 text-primary" href="javascript:void(0)">4</a>
                    </div>
                    <div class="col-6 col-md-3">
                        <div class="font-w600 text-dark mb-1">Referred</div>
                        <a class="link-fx font-size-h3 text-primary" href="javascript:void(0)">3</a>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="block block-rounded">
            <div class="block-header block-header-default">
                <h3 class="block-title">Addresses (2)</h3>
            </div>
            <div class="block-content">
                <div class="row">
                    <div class="col-lg-6">
                        <!-- Billing Address -->
                        <div class="block block-rounded block-bordered">
                            <div class="block-header border-bottom">
                                <h3 class="block-title">Billing Address</h3>
                            </div>
                            <div class="block-content">
                                <div class="font-size-h4 mb-1">John Parker</div>
                                <address class="font-size-sm">
                                    Sunrise Str 620<br>
                                    Melbourne<br>
                                    Australia, 11-587<br><br>
                                    <i class="fa fa-phone"></i> (999) 888-55555<br>
                                    <i class="fa fa-envelope-o"></i> <a href="javascript:void(0)">company@example.com</a>
                                </address>
                            </div>
                        </div>
                        <!-- END Billing Address -->
                    </div>
                    <div class="col-lg-6">
                        <!-- Shipping Address -->
                        <div class="block block-rounded block-bordered">
                            <div class="block-header border-bottom">
                                <h3 class="block-title">Shipping Address</h3>
                            </div>
                            <div class="block-content">
                                <div class="font-size-h4 mb-1">John Parker</div>
                                <address class="font-size-sm">
                                    Sunrise Str 620<br>
                                    Melbourne<br>
                                    Australia, 11-587<br><br>
                                    <i class="fa fa-phone"></i> (999) 888-55555<br>
                                    <i class="fa fa-envelope-o"></i> <a href="javascript:void(0)">company@example.com</a>
                                </address>
                            </div>
                        </div>
                        <!-- END Shipping Address -->
                    </div>
                </div>
            </div>
        </div>
        <!-- END Addresses -->

        <!-- Shopping Cart -->
        <div class="block block-rounded">
            <div class="block-header block-header-default">
                <h3 class="block-title">Plannification des cours par matiere</h3>
            </div>
            <div class="block-content">
                <div class="table-responsive">
                    <table class="table table-borderless table-striped table-vcenter">
                        <thead>
                            <tr>
                                <th class="d-none d-md-table-cell text-center">Matière</th>
                                <th class="d-none d-sm-table-cell text-center">Temps Prévu</th>
                                <th class="d-none d-md-table-cell">Temps Plannifié</th>
                                <th class="d-none d-sm-table-cell text-center">Temps Réalisé</th>
                                <th class="d-none d-sm-table-cell text-center">Professeur</th>
                                <th class="text-center">UE</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for ue, donnee in activite_matiere.items %}
                            
                            <tr>
                                <td class="d-none d-sm-table-cell text-center">
                                    {{ donnee.libelle }}
                                </td>
                                <td class="d-none d-sm-table-cell text-center">{{ donnee.temps_prevu }}</td>
                                <td class="d-none d-md-table-cell">{{ donnee.temps_plannifier }}</td>
                                <td class="d-none d-sm-table-cell text-center">{{ donnee.temps_effectuer }}</td>
                                <td class="d-none d-sm-table-cell text-center">
                                    {% if donnee.professeur %}
                                        {{ donnee.professeur }}
                                    {% else %}
                                        N/A
                                    {% endif %}
                                </td>
                                <td class="text-center">{{ donnee.ue }}</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                    
                </div>
            </div>
        </div>
        
        <div class="block block-rounded">
            <div class="block-header block-header-default">
                <h3 class="block-title">Temps d'activité par Enseignant</h3>
            </div>
            <div class="block-content">
                <div class="row row-deck">
                    {% for prof, nombre_absences in activite_prof.items %}
                    <div class="col-md-4">
                        <!-- Referred User -->
                        <a class="block block-rounded block-bordered block-link-shadow" href="javascript:void(0)">
                            <div class="block-content block-content-full d-flex align-items-center justify-content-between">
                                <div>
                                    <div class="font-w600 mb-1">{{prof}}</div>
                                    <div class="font-size-sm text-muted">{{nombre_absences.activité}}</div>
                                </div>
                                <div class="ml-3">
                                    <img class="img-avatar" src="{% static 'assets/media/avatars/avatar7.jpg'%}" alt="">

                                </div>
                            </div>
                        </a>
                        <!-- END Referred User -->
                    </div>
                    {% endfor%}
                </div>
            </div>
        </div>
        <div class="block block-rounded">
            <div class="block-header block-header-default">
                <h3 class="block-title">Les Absences</h3>
            </div>
            <div class="block-content">
                <div class="row row-deck">
                    {% for eleve, nombre_absences in absence_eleve.items %}
                    <div class="col-md-4">
                        <!-- Referred User -->
                        <a class="block block-rounded block-bordered block-link-shadow" href="javascript:void(0)">
                            <div class="block-content block-content-full d-flex align-items-center justify-content-between">
                                <div>
                                    <div class="font-w600 mb-1">{{eleve}}</div>
                                    <div class="font-size-sm text-muted">{{nombre_absences}} absence(s)</div>
                                </div>
                                <div class="ml-3">
                                    <img class="img-avatar" src="{% static 'assets/media/avatars/avatar7.jpg'%}" alt="">

                                </div>
                            </div>
                        </a>
                        <!-- END Referred User -->
                    </div>
                    {% endfor%}
                </div>
            </div>
        </div>
        <div class="block block-rounded">
            <div class="block-header block-header-default">
                <h3 class="block-title">Liste des etudiants ({{etudiants|length}})</h3>
            </div>
            <div class="block-content">
                <div class="table-responsive">
                    <table class="table table-borderless table-striped table-vcenter">
                        <thead>
                            <tr>
                                <th class="d-none d-md-table-cell text-center">Profil</th>
                                <th class="d-none d-md-table-cell text-center">Nom & Prénom</th>
                                <th class="d-none d-sm-table-cell text-center">Date de naissance</th>
                                <th>Contact</th>
                                <th class="d-none d-sm-table-cell text-center">Email</th>
                                <th class="d-none d-md-table-cell text-center">Username</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for etudiant in etudiants %}
                            <tr>
                                <td class="d-none d-md-table-cell text-center ">
                                    {% if etudiant.profil %}
                                    <img class="img-avatar" src="{% static 'assets/media/avatars/avatar7.jpg'%}" alt="">
                                        {% else %} <img class="img-avatar" src="{% static 'assets/media/avatars/avatar7.jpg'%}" alt="">
                                    {% endif %}
                                </td>
                                <td class="text-center font-size-sm">
                                    {{etudiant.nom}} {{etudiant.prenom}}
                                </td>
                                <td class="d-none d-sm-table-cell text-center font-size-sm">{{etudiant.datenaissance}}</td>
                                <td>
                                    <span class="badge badge-success">{{etudiant.contact}}</span>
                                </td>
                                <td class="text-center d-none d-sm-table-cell ">
                                    <strong>{{etudiant.email}}</strong>
                                </td>
                                <td class="d-none d-md-table-cell text-center ">
                                    <span class="badge badge-success">{{etudiant.user}}</span>
                                </td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        
    </div>
    <!-- END Page Content -->
</main>
{% endblock %}